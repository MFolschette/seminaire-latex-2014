\documentclass{beamer}

\input{preambule}

\input{seance3_tikz_ex}

\title[Séminaire \LaTeX, séance 3]{Séminaire \LaTeX, séance 3: Utilisation avancée}
\date{mardi 25 février 2014}



% Exemples de macros
\newcommand{\ltsname}{Diagramme de Transisions \'Etiquet\'e}
\newcommand{\abs}[1]{\ensuremath\left|#1\right|}
\newcommand{\lts}[1][]{\ensuremath\left(Q^{#1}, q_0^{#1}, A_{#1}, \rightarrow_{#1}\right)}



\begin{document}

%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%

\begin{frame}
    \titlepage
\end{frame}

%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%

\begin{frame}{Points abordés durant cette troisième séance}
  \begin{itemize}
    \item Divers rappels : bibliographie, éditeurs alternatifs
    \item Création de commandes
    \item Inclusion de figures à l'aide de TikZ
    \item Création d'un diaporama à l'aide de la classe Beamer
    \item Vos questions !
  \end{itemize}
\end{frame}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%% PART%% %%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\part{Bibliographie avec BibTeX}


%%%%%%%%%%

\section{Bibliographie avec BibTeX}

%%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%

\begin{frame}[fragile]
\frametitle{Présentation de BibTeX}
BibTeX est un outil de gestion de bibliographie.

\medskip
La \emph{base de données} bibliographique est placée dans un fichier extérieur (\lstinline?.bib?).

\medskip
On inclut la bibliographie dans le document par les commandes :
\begin{lstlisting}
\bibliographystyle{£\meta{style}£}    % Par exemple : plain, alpha, apalike, ...
\bibliography{£\meta{biblio}£}        % Nom du fichier .bib (sans l'extension)
\end{lstlisting}
Il est possible d'inclure plusieurs biblios :
\lstinline?\bibliography{biblio1,biblio2}?.

\medskip
On crée des références dans le document par la commande : \lstinline?\cite{...}?  \cite{latexcompanion}.
\end{frame}


%%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%


\begin{frame}[fragile]
\frametitle{Ajout de nouvelles entrées}

Large choix de type d'entrée:
\texttt{article}, \texttt{book}, \texttt{booklet}, \texttt{inproceedings},
\texttt{manual}, \texttt{pdhthesis}, \texttt{techreport}, \texttt{unpublished}, \texttt{misc}...

Exemple (fichier \texttt{.bib}):
\begin{lstlisting}
@book{goossens93,
  author     = "Goossens, Michel and Mittlebach, Frank",
  title      = "The Latex Companion",
  year       = "1993",
  publisher  = "Addison-Wesley",
  address    = "Reading, Massachusetts"
}

@article{greenwade93,
  author   = "Inconnu",
  title    = "Titre",
  year     = "1993",
  journal  = "Nom du journal",
  volume   = "14",
  number   = "3",
  pages    = "342--351"
}
\end{lstlisting}
\end{frame}

%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%

\begin{frame}[fragile]
  \frametitle{Types d'entrée}

\begin{itemize}
  \item \texttt{phdthesis} et \texttt{mastersthesis} : thèse de doctorat ou de master
    \begin{itemize}
      \item champs requis: \texttt{author, title, school, year}
    \end{itemize}
  \item \texttt{inproceedings} : article de conférence
    \begin{itemize}
      \item champs requis: \texttt{author, title, booktitle, year} 
    \end{itemize}
  \item \texttt{article} : article de journal
    \begin{itemize}
      \item champs requis: \texttt{author, title, journal, yearr} 
    \end{itemize}
  \item \texttt{book} : livre
    \begin{itemize}
      \item champs requis: \texttt{author/editor, title, publisher, year} 
    \end{itemize}
  \item \texttt{techreport} : rapport technique
    \begin{itemize}
      \item champs requis: \texttt{author, title, institution, year}
    \end{itemize}
  \item \texttt{misc} : document qui ne rentre dans aucune catégorie: \texttt{aucun} 
    \begin{itemize}
      \item aucun champ requis
    \end{itemize}
\end{itemize}

\end{frame}


%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%

\begin{frame}[fragile]
\frametitle{Exercice}

Créer un nouveau fichier nommé \texttt{biblio.bib} et contenant :

\begin{lstlisting}
@article{greenwade93,
  author  = "Inconnu",
  title   = "Titre",
  year    = "1993",
  journal = "Nom du journal",
  volume  = "14",
  number  = "3",
  pages   = "342--351"
}
\end{lstlisting}

Et y faire référence dans votre document principal:

\begin{lstlisting}
...
Blablabla vous r£\'e£f£\'e£rer £\`a£ \cite{greenwade93}, blablabla ...
...
\bibliographystyle{plain}    % Essayer aussi alpha et apalike
\bibliography{biblio}
\end{lstlisting}

\end{frame}

%%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%

\begin{frame}[fragile]
\frametitle{Styles de bibliographie}

Le style de bibliographie est spécifié par la ligne :

\begin{lstlisting}
\bibliographystyle{£\meta{style}£}
\end{lstlisting}

Un fichier de style bibliographique (\texttt{.bst}) est généralement fourni par le journal ou la revue.

Sinon, il est possible d'utiliser les styles \texttt{abbrv-fr} ou \texttt{alpha-fr}.
\end{frame}

%%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%

\begin{frame}
\frametitle{Outils de gestion de bibliographie}

La plupart du temps, vous n'écrirez pas à la main vos entrées bibliographiques, mais vous les trouverez sur
\begin{center}
\Huge \rotatebox[origin=c]{15}{\myheart}\bemph{Internet !}\rotatebox[origin=c]{-15}{\myheart}
\end{center}
La plupart des bases de données bibliographiques permettent d'exporter une entrée en BibTeX.

\medskip
Par exemple avec Google Scholar :
\begin{itemize}
  \item Paramètres de Google Scholar
    \begin{itemize}
      \item Gestionnaire des bibliographies
        \begin{itemize}
          \item Afficher les liens permettant d'importer des citations dans BibTeX.
        \end{itemize}
    \end{itemize}
\end{itemize}

\medskip
Utiliser un outil de gestion de bibliographie est nécessaire:
\begin{itemize}
\item JabRef,
\item Mendeley,
\item Zotero
\end{itemize}
\end{frame}

%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%

\begin{frame}{Jabref (mutli-plateforme)}

\vspace*{-0.5cm}
\begin{figure} %debut de l'environnement figure
\centering %figure centree
\includegraphics[width=9cm]{img/jabref} % image de X cm de large
%\caption{Titre de la figure} %titre de la figure
%\label{titre_fig} %label de la figure (ex voir figure W)
\end{figure} %fin de l'environnement figure

\vspace*{-0.5cm}
{\footnotesize Téléchargement: \url{http://jabref.sourceforge.net/}}

\end{frame}

%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%

\begin{frame}{Mendeley (mutli-plateforme)}

\begin{figure} %debut de l'environnement figure
\centering %figure centree
\includegraphics[width=9cm]{img/mendeley} % image de X cm de large
%\caption{Titre de la figure} %titre de la figure
%\label{titre_fig} %label de la figure (ex voir figure W)
\end{figure} %fin de l'environnement figure

{\footnotesize Téléchargement: \url{http://www.mendeley.com/}}

\end{frame}

%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%

\begin{frame}{Zotero (mutli-plateforme)}

\begin{figure} %debut de l'environnement figure
\centering %figure centree
\includegraphics[width=8cm]{img/zotero} % image de X cm de large
%\caption{Titre de la figure} %titre de la figure
%\label{titre_fig} %label de la figure (ex voir figure W)
\end{figure} %fin de l'environnement figure

{\footnotesize Téléchargement: \url{http://www.zotero.org/}}

\end{frame}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%% SECTION %%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\part{Autres éditeurs \LaTeX}


%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%
\section{Texniccenter}

\begin{frame}{Texniccenter}

\begin{figure}
\centering
\includegraphics[width=9cm]{img/Texniccenter}
\end{figure}

{\footnotesize Téléchargement: \url{http://www.texniccenter.org/}}

\end{frame}


%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%
\section{LyX}

\begin{frame}{LyX}

\begin{figure}
\centering
\includegraphics[width=8cm]{img/LyXScreen_Linux_en}
\end{figure}

{\footnotesize Téléchargement: \url{http://www.lyx.org/}}

\end{frame}


%%%%%%%%% SLIDE %%%%%%%%%%%%%%%%%%
\section{Texmaker}

\begin{frame}{Texmaker}

\begin{figure}
\centering
\includegraphics[width=9cm]{img/TexmakerView}
\end{figure}

{\footnotesize Téléchargement: \url{http://www.xm1math.net/texmaker/}}

\end{frame}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%% PART%% %%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\part{Utilisation avancée}

\section{Commandes personnalisées}

\begin{frame}[fragile]
\frametitle{Créer ses propres commandes}
Pourquoi?
\begin{itemize}
  \item Réutilisation
  \item Simplification
\end{itemize}

Définition :
\begin{lstlisting}
\newcommand{\ltsname}{Diagramme de Transisions £\'E£tiquet£\'e£}
\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\lts}[1][]{\left(Q^{#1},q_0^{#1},A_{#1},\rightarrow_{#1}\right)}
\end{lstlisting}
Restrictions : pas de chiffres et pas de caractère « \MVAt{} »  % arobase

\medskip
Utilisation :
  \begin{itemize}
\item \lstinline?\ltsname? \myexinline{\ltsname}
\item \lstinline?\abs{\pi}? \myexinline{$\abs{\pi}$}
\item \lstinline?\lts? \myexinline{$\lts$}\\
  \lstinline?\lts[n]? \myexinline{$\lts[n]$}
\end{itemize}
\end{frame}



\begin{frame}[fragile]
  \frametitle{Définir des commandes simples}

\begin{lstlisting}
\newcommand{\£\meta{nomcommande}£}[£\meta{n}£]{£\meta{Corps de la commande}£}
\end{lstlisting}
À chaque fois que la commande créée est utilisée, elle est remplacée par son contenu.

\bigskip
Exemple :
\begin{lstlisting}
\newcommand{\ltsname}{Diagramme de Transisions £\'E£tiquet£\'e£}
\end{lstlisting}
Crée une commande \lstinline?\ltsname?

qui écrit “\ltsname”.

\bigskip
Résultat :
\begin{columns}
\begin{column}{.45\textwidth}
\begin{lstlisting}
Soit $D$ un \ltsname.
\end{lstlisting}
\end{column}

\begin{column}{.45\textwidth}
\myex{%
Soit $D$ un \ltsname.
}
\end{column}
\end{columns}

\end{frame}



\begin{frame}[fragile]
  \frametitle{Définir des commandes avec arguments}

\begin{lstlisting}
\newcommand{\£\meta{nomcommande}£}[£\meta{n}£]{£\meta{Corps avec \#1, ..., \#n}£}
\end{lstlisting}
On peut définir un certain nombre d'arguments \bemph{obligatoires} pour une commande, et y faire référence avec \lstinline?#1?, \lstinline?#2?, ... jusqu'à \lstinline?#n?.

\bigskip
Exemple :
\begin{lstlisting}
\newcommand{\abs}[1]{\left|#1\right|}
\end{lstlisting}
Crée une commande \lstinline?\abs{xxx}?

qui permet de représenter la valeur absolue de son argument : “$\abs{xxx}$”.

\bigskip
Résultat :
\begin{columns}
\begin{column}{.45\textwidth}
\begin{lstlisting}
\begin{equation}
  \abs{\sum n} \leq
  \sum \abs{n}
\end{equation}
\end{lstlisting}
\end{column}

\begin{column}{.45\textwidth}
\myex{%
\begin{equation}
  \abs{\sum n} \leq
  \sum \abs{n}
\end{equation}
}
\end{column}
\end{columns}

\end{frame}



\begin{frame}[fragile]
  \frametitle{Définir des commandes avec un argument optionnel}

\begin{lstlisting}
\newcommand{\£\meta{nomcommande}£}[£\meta{n}£][£\meta{Valeur par d£\'e£faut}£]{£\meta{Corps avec \#1, ..., \#n}£}
\end{lstlisting}
On peut aussi définir une valeur par défaut pour le \bemph{premier} argument, qui sera utilisée quand cet argument n'est pas précisé.
Au moment de l'utilisation, il faut écrire le premier argument \bemph{entre crochets}.

\bigskip
Exemple :
\begin{lstlisting}
\newcommand{\lts}[1][]{\left(Q^{#1},q_0^{#1},A_{#1},\rightarrow_{#1}\right)}
\end{lstlisting}
Crée une commande qui peut être utilisée avec un argument : \lstinline?\lts[xxx]?
ou sans argument : \lstinline?\lts?.

\bigskip
Résultat :
\begin{columns}
\begin{column}{.45\textwidth}
\begin{lstlisting}
\begin{equation}
  \lts[n]
\end{equation}

\begin{equation}
  \lts
\end{equation}
\end{lstlisting}
\end{column}

\begin{column}{.45\textwidth}
\myex{%
\begin{equation}
  \lts[n]
\end{equation}

\begin{equation}
  \lts
\end{equation}
}
\end{column}
\end{columns}

\end{frame}




\begin{frame}[fragile]
  \frametitle{Redéfinir des commandes}

\begin{lstlisting}
\renewcommand{\£\meta{nomcommande}£}[£\meta{n}£][£\meta{Valeur par d£\'e£faut}£]{£\meta{Corps avec \#1, ..., \#n}£}
\end{lstlisting}
On peut redéfinir une commande existante.

\bigskip
Exemple :
\begin{lstlisting}
\renewcommand{\vec}[1]{\overrightarrow{#1}}
\end{lstlisting}

\bigskip
Avant :
\begin{columns}
\begin{column}{.45\textwidth}
\begin{lstlisting}
\begin{equation}
  \vec{AB}
\end{equation}
\end{lstlisting}
\end{column}
\begin{column}{.45\textwidth}
\myex{%
\begin{equation}
  \vec{AB}
\end{equation}
}
\end{column}
\end{columns}

% À éviter ! Il vaut mieux (re)définir les commandes dans le préambule.
% Cette redéfinition ici est pour l'exemple.
\renewcommand{\vec}[1]{\overrightarrow{#1}}

\bigskip
Après :
\begin{columns}
\begin{column}{.45\textwidth}
\begin{lstlisting}
\begin{equation}
  \vec{AB}
\end{equation}
\end{lstlisting}
\end{column}
\begin{column}{.45\textwidth}
\myex{%
\begin{equation}
  \vec{AB}
\end{equation}
}
\end{column}
\end{columns}

\end{frame}



\section{Comprendre la compilation}

\begin{frame}
	\frametitle{Fichiers auxiliaires}
	\begin{description}
	\item[log] Fichier où \LaTeX{} écrit tout un tas d'informations sur la dernière compilation.
	\item[aux] Fichier auxiliaire: stocke les références, citations, numéros de page, etc.
	\item[toc] Fichier contenant la table des matières.
	\item[lof] Fichier contenant la liste des figures.
	\item[lot] Fichier contenant la liste des tables.
	\item[bbl] Fichier contenant la bibliographie.
	\end{description}
\end{frame}

\setbeamercovered{transparent}
\begin{frame}
\frametitle{Cycle de compilation}
\begin{center}
    \begin{tikzpicture}[every node/.style={shape=rectangle, shape aspect=1.61, rounded corners},
                        every path/.style={thick, >=triangle 60},
                        file/.style={minimum height=0.8cm, minimum width=1.29, fill=blue!20, draw=blue},
                        bin/.style={minimum width=2.42cm, minimum height=1.5cm, fill=red!20, draw=red}]
                        \only<1, 3-4>{\node[bin] (bin) at (0,0) {\LaTeX{}};}
                        \only<2>{\node[bin] (bin) at (0,0) {Bib\TeX{}};}
                        \onslide<1-4>{\node[file] (tex) at (-3, 1) {\texttt{.tex}};}
                        \onslide<1-4>{\node[file] (bib) at (-3, 0) {\texttt{.bib}};}
                        \onslide<1-4>{\node[file] (bst) at (-3, -1) {\texttt{.bst}};}

                        \onslide<3-4>{\node[file] (pdf) at (3,0.75) {\texttt{.pdf}};}
                        \onslide<1-4>{\node[file] (log) at (3, -0.75) {\texttt{.log}};}

                        \onslide<2-4>{\node[file] (aux) at (-1.5, 2) {\texttt{.aux}};}
                        \onslide<3-4>{\node[file] (bbl) at (0, 2) {\texttt{.bbl}};}
                        \onslide<3-4>{\node[file] (blg) at (1.5, 2) {\texttt{.blg}};}

                        \onslide<4>{\node[file] (toc) at (-1.5, -2) {\texttt{.toc}};}
                        \onslide<4>{\node[file] (lof) at (0, -2) {\texttt{.lof}};}
                        \onslide<4>{\node[file] (lot) at (1.5, -2) {\texttt{.lot}};}

                        \only<1>{
                            \draw[->] (tex) -- (bin);
                            \draw[->] (bin) -- (log);
                            \draw[->] (bin) -- (pdf);
                            \draw[->] (bin) -- (aux);
                        }
                        \only<2>{
                            \draw[->] (bib) -- (bin);
                            \draw[->] (aux) -- (bin);
                            \draw[->] (bin) -- (blg);
                            \draw[->] (bin) -- (bbl);
                        }
                        \only<3>{
                            \draw[->] (tex) -- (bin);
                            \draw[<->] (aux) -- (bin);
                            \draw[->] (bst) -- (bin);
                            \draw[->] (bbl) -- (bin);
                            \draw[->] (bin) -- (log);
                            \draw[->] (bin) -- (pdf);
                            \draw[->] (bin) -- (toc);
                            \draw[->] (bin) -- (lof);
                            \draw[->] (bin) -- (lot);
                        }
                        \only<4>{
                            \draw[->] (tex) -- (bin);
                            \draw[<->] (aux) -- (bin);
                            \draw[->] (bst) -- (bin);
                            \draw[->] (bbl) -- (bin);
                            \draw[->] (bin) -- (log);
                            \draw[->] (bin) -- (pdf);
                            \draw[<->] (bin) -- (toc);
                            \draw[<->] (bin) -- (lof);
                            \draw[<->] (bin) -- (lot);
                        }
    \end{tikzpicture}
\end{center}
\end{frame}

\section{Erreurs de compilation courantes}

\begin{frame}[fragile]
  \frametitle{Erreurs de compilation courantes}

\begin{lstlisting}[language={},backgroundcolor=\color{gray!30}]
| ! Too many }'s.
| l.6 \date December 2004}
\end{lstlisting}
Accolades non balancées :
\begin{lstlisting}[backgroundcolor=\color{red!20}]
\date December 2004}
\end{lstlisting}\vspace*{-.85em}
\begin{lstlisting}[backgroundcolor=\color{green!20}]
\date{December 2004}
\end{lstlisting}

\pause
\hrule
\medskip
\begin{lstlisting}[language={},backgroundcolor=\color{gray!30}]
| ! Undefined control sequence.
| l.6 \dtae
| {December 2004}
\end{lstlisting}
Faute de frappe dans une commande, ou package manquant :
\begin{lstlisting}[backgroundcolor=\color{red!20}]
\dtae{December 2004}
\end{lstlisting}\vspace*{-.85em}
\begin{lstlisting}[backgroundcolor=\color{green!20}]
\date{December 2004}
\end{lstlisting}

\pause
\hrule
\medskip
\begin{lstlisting}[language={},backgroundcolor=\color{gray!30}]
| ! Missing $ inserted
\end{lstlisting}
Caractère math utilisé hors du mode math (ex: \_) :
\begin{lstlisting}[backgroundcolor=\color{red!20}]
Les donn£\'e£es sont stock£\'e£es dans le fichier ex_1.txt
\end{lstlisting}\vspace*{-.85em}
\begin{lstlisting}[backgroundcolor=\color{green!20}]
Les donn£\'e£es sont stock£\'e£es dans le fichier ex\_1.txt
\end{lstlisting}

\end{frame}

\setbeamercovered{invisible}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%% PART%% %%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%% TikZ
\input{seance3_tikz}

%%% Beamer
\input{seance3_beamer}



%%% Bibliographie %%%

\begin{frame}
  \frametitle{Bibliographie}

\nocite{*}
\bibliographystyle{abbrv-fr}
\bibliography{latex}
\end{frame}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%% FIN DU DOCUMENT %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%% ( NON PRISE EN COMPTE DE LA SUITE ) %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
